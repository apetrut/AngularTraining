<form class="container" [formGroup]="registerForm" (ngSubmit)="register()">
  <h2 class="text-center text-primary">Sign Up</h2>
  <hr>

  <div class="form-group">
    <input [ngClass]="{'is-invalid' : registerForm.get('username').errors && registerForm.get('username').touched}" 
    type="text" class="form-control" placeholder="Username" formControlName="username">
    <div class="invalid-feedback">Please choose a username</div>
  </div>

  <div class="form-group">
    <input [ngClass]="{'is-invalid' : registerForm.get('city').errors && registerForm.get('city').touched}" 
    type="text" class="form-control" placeholder="City" formControlName="city">
    <div class="invalid-feedback">Please choose a city</div>
  </div>

  <div class="form-group">
    <input [ngClass]="{'is-invalid' : registerForm.get('country').errors && registerForm.get('country').touched}" 
    type="text" class="form-control" placeholder="Country" formControlName="country">
    <div class="invalid-feedback">Please choose a country</div>
  </div>

  <div class="form-group">
    <input [ngClass]="{'is-invalid' : registerForm.get('dateOfBirth').errors && registerForm.get('dateOfBirth').touched}" 
    type="text" bsDatepicker [bsConfig]="bsConfig" class="form-control" placeholder="1/1/1985" formControlName="dateOfBirth">
    <div class="invalid-feedback">Please choose a date</div>
  </div>

  <div class="form-group">
    <input 
      [ngClass]="{'is-invalid' : registerForm.get('password').errors && registerForm.get('password').touched}" 
      type="password" class="form-control" placeholder="Password" formControlName="password">
    <div class="invalid-feedback" 
         *ngIf="registerForm.get('password').hasError('required') && 
                registerForm.get('password').touched">
         Password is required
     </div>
     <div class="invalid-feedback" 
         *ngIf="registerForm.get('password').hasError('minlength') && 
                registerForm.get('password').touched">
         Password must be at least 4 characters
     </div>
     <div class="invalid-feedback" 
         *ngIf="registerForm.get('password').hasError('maxlength') && 
                registerForm.get('password').touched">
          Password cannot exceed 8 characters
     </div>
  </div>

  <div class="form-group">
    <input 
      [ngClass]="{'is-invalid' : registerForm.get('confirmPassword').errors 
              && registerForm.get('confirmPassword').touched
              || registerForm.get('confirmPassword').touched
              && registerForm.hasError('mismatch')}" 
      type="password" 
      class="form-control" 
      placeholder="Confirm Password" 
      formControlName="confirmPassword">
      <div class="invalid-feedback" 
         *ngIf="registerForm.get('confirmPassword').hasError('required') && 
                registerForm.get('confirmPassword').touched">
         Password is required
      </div>
      <div class="invalid-feedback" 
         *ngIf="registerForm.hasError('mismatch') && 
                registerForm.get('confirmPassword').touched">
         Passwords must match
      </div>
  </div>

  <div class="form-group text-center">
    <button class="btn btn-success" type="submit" 
            [title]="registerForm.valid ? 'Register your data' : 'Disabled until form data is valid.'"
            [disabled]="!registerForm.valid">Register</button>
    <button class="btn btn-default" type="button" (click)="cancel()">Cancel</button>
  </div>
  
</form>